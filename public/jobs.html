<!doctype html>
<html lang="zh">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>LGWORK • Jobs</title>
<style>
  body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;max-width:1100px;margin:0 auto;padding:24px;background:#0b0f14;color:#e6edf3}
  h1{font-size:22px;margin:0 0 8px}
  .card{background:#0d1117;border:1px solid #30363d;border-radius:14px;padding:14px;margin:10px 0}
  .muted{color:#9da7b3}
  input,select{background:#0b0f14;border:1px solid #30363d;color:#e6edf3;border-radius:10px;padding:8px}
  button{background:#1f6feb;border:0;color:white;padding:10px 14px;border-radius:10px;cursor:pointer}
  .bar{display:flex;gap:8px;flex-wrap:wrap;margin:10px 0}
</style>
</head>
<body>
  <h1>职位浏览</h1>
  <div class="bar">
    <input id="q" placeholder="关键词"/>
    <input id="loc" placeholder="地点"/>
    <select id="remote"><option value="">远程不限</option><option value="true">只看远程</option><option value="false">排除远程</option></select>
    <select id="zero"><option value="">零经验不限</option><option value="true">只看零经验友好</option><option value="false">排除零经验友好</option></select>
    <button id="btn">筛选</button>
  </div>
  <div id="list"></div>
<script>
const $=s=>document.querySelector(s)
$('#btn').onclick=load
async function load(){
  const p=new URLSearchParams({q:$('#q').value,location:$('#loc').value,remote:$('#remote').value,zero_exp:$('#zero').value,limit:200})
  const r=await fetch('/api/jobs/list?'+p.toString());const d=await r.json()
  $('#list').innerHTML=(d.items||[]).map(x=>`<div class='card'>
    <div><b>${esc(x.title)}</b> · ${esc(x.company)} <span class='muted'>${esc(x.location)} ${x.remote?'· Remote':''}</span></div>
    <div class='muted' style='margin-top:6px'>${esc((x.description||'').slice(0,200))}…</div>
    <div style='margin-top:8px'><a href='${x.jd_url}' target='_blank'>申请链接 ↗</a></div>
  </div>`).join('')
}
function esc(s){return (s||'').replaceAll('&','&amp;').replaceAll('<','&lt;')}
load()
</script>
</body>
</html>
